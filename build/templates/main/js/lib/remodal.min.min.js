"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(t,e)}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?n(t,require("jquery")):n(t,t.jQuery||t.Zepto)}(void 0,function(t,n){function e(t){if(E&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var n,e,a,o,i=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",s=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(i=i.split(", "),s=s.split(", "),r=r.split(", "),o=0,e=i.length,n=Number.NEGATIVE_INFINITY;o<e;o++)(a=parseFloat(i[o])*parseInt(r[o],10)+parseFloat(s[o]))>n&&(n=a);return n}function a(){if(n(document).height()<=n(window).height())return 0;var t,e,a=document.createElement("div"),o=document.createElement("div");return a.style.visibility="hidden",a.style.width="100px",document.body.appendChild(a),t=a.offsetWidth,a.style.overflow="scroll",o.style.width="100%",a.appendChild(o),e=o.offsetWidth,a.parentNode.removeChild(a),t-e}function o(){if(!N){var t,e,o=n("html"),i=c("is-locked");o.hasClass(i)||(e=n(document.body),t=parseInt(e.css("padding-right"),10)+a(),e.css("padding-right",t+"px"),o.addClass(i))}}function i(){if(!N){var t,e,o=n("html"),i=c("is-locked");o.hasClass(i)&&(e=n(document.body),t=parseInt(e.css("padding-right"),10)-a(),e.css("padding-right",t+"px"),o.removeClass(i))}}function s(t,n,e,a){var o=c("is",n),i=[c("is",O.CLOSING),c("is",O.OPENING),c("is",O.CLOSED),c("is",O.OPENED)].join(" ");t.$bg.removeClass(i).addClass(o),t.$overlay.removeClass(i).addClass(o),t.$wrapper.removeClass(i).addClass(o),t.$modal.removeClass(i).addClass(o),t.state=n,!e&&t.$modal.trigger({type:n,reason:a},[{reason:a}])}function r(t,a,o){var i=0,s=function(t){t.target===this&&i++},r=function(t){t.target===this&&0==--i&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){o[n].off(v+" "+y)}),a())};n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){o[n].on(v,s).on(y,r)}),t(),0===e(o.$bg)&&0===e(o.$overlay)&&0===e(o.$wrapper)&&0===e(o.$modal)&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){o[n].off(v+" "+y)}),a())}function d(t){t.state!==O.CLOSED&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(n,e){t[e].off(v+" "+y)}),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),i(),s(t,O.CLOSED,!0))}function l(t){var n,e,a,o,i={};for(o=0,e=(n=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;o<e;o++)n[o]=n[o].split(":"),("string"==typeof(a=n[o][1])||a instanceof String)&&(a="true"===a||"false"!==a&&a),("string"==typeof a||a instanceof String)&&(a=isNaN(a)?a:+a),i[n[o][0]]=a;return i}function c(){for(var t=h,n=0;n<arguments.length;++n)t+="-"+arguments[n];return t}function m(){var t,e,a=location.hash.replace("#","");if(a){try{e=n('[data-remodal-id="'+a+'"]')}catch(t){}e&&e.length&&(t=n[g].lookup[e.data(g)])&&t.settings.hashTracking&&t.open()}else u&&u.state===O.OPENED&&u.settings.hashTracking&&u.close()}function p(t,e){var a=n(document.body),o=this;o.settings=n.extend({},C,e),o.index=n[g].lookup.push(o)-1,o.state=O.CLOSED,o.$overlay=n("."+c("overlay")),null!==o.settings.appendTo&&o.settings.appendTo.length&&(a=n(o.settings.appendTo)),o.$overlay.length||(o.$overlay=n("<div>").addClass(c("overlay")+" "+c("is",O.CLOSED)).hide(),a.append(o.$overlay)),o.$bg=n("."+c("bg")).addClass(c("is",O.CLOSED)),o.$modal=t.addClass(h+" "+c("is-initialized")+" "+o.settings.modifier+" "+c("is",O.CLOSED)).attr("tabindex","-1"),o.$wrapper=n("<div>").addClass(c("wrapper")+" "+o.settings.modifier+" "+c("is",O.CLOSED)).hide().append(o.$modal),a.append(o.$wrapper),o.$wrapper.on("click."+h,'[data-remodal-action="close"]',function(t){t.preventDefault(),o.close()}),o.$wrapper.on("click."+h,'[data-remodal-action="cancel"]',function(t){t.preventDefault(),o.$modal.trigger($.CANCELLATION),o.settings.closeOnCancel&&o.close($.CANCELLATION)}),o.$wrapper.on("click."+h,'[data-remodal-action="confirm"]',function(t){t.preventDefault(),o.$modal.trigger($.CONFIRMATION),o.settings.closeOnConfirm&&o.close($.CONFIRMATION)}),o.$wrapper.on("click."+h,function(t){n(t.target).hasClass(c("wrapper"))&&o.settings.closeOnOutsideClick&&o.close()})}var u,f,g="remodal",h=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||g,v=n.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+h}).join(" "),y=n.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+h}).join(" "),C=n.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),O={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},$={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},E=function(){var t=document.createElement("div").style;return void 0!==t.animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName}(),N=/iPad|iPhone|iPod/.test(navigator.platform);p.prototype.open=function(){var t,e=this;e.state!==O.OPENING&&e.state!==O.CLOSING&&((t=e.$modal.attr("data-remodal-id"))&&e.settings.hashTracking&&(f=n(window).scrollTop(),location.hash=t),u&&u!==e&&d(u),u=e,o(),e.$bg.addClass(e.settings.modifier),e.$overlay.addClass(e.settings.modifier).show(),e.$wrapper.show().scrollTop(0),e.$modal.focus(),r(function(){s(e,O.OPENING)},function(){s(e,O.OPENED)},e))},p.prototype.close=function(t){var e=this;e.state!==O.OPENING&&e.state!==O.CLOSING&&e.state!==O.CLOSED&&(e.settings.hashTracking&&e.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",n(window).scrollTop(f)),r(function(){s(e,O.CLOSING,!1,t)},function(){e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),i(),s(e,O.CLOSED,!1,t)},e))},p.prototype.getState=function(){return this.state},p.prototype.destroy=function(){var t=n[g].lookup;d(this),this.$wrapper.remove(),delete t[this.index],0===n.grep(t,function(t){return!!t}).length&&(this.$overlay.remove(),this.$bg.removeClass(c("is",O.CLOSING)+" "+c("is",O.OPENING)+" "+c("is",O.CLOSED)+" "+c("is",O.OPENED)))},n[g]={lookup:[]},n.fn[g]=function(t){var e,a;return this.each(function(o,i){null==(a=n(i)).data(g)?(e=new p(a,t),a.data(g,e.index),e.settings.hashTracking&&a.attr("data-remodal-id")===location.hash.substr(1)&&e.open()):e=n[g].lookup[a.data(g)]}),e},n(document).ready(function(){n(document).on("click","[data-remodal-target]",function(t){t.preventDefault();var e=t.currentTarget.getAttribute("data-remodal-target"),a=n('[data-remodal-id="'+e+'"]');n[g].lookup[a.data(g)].open()}),n(document).find("."+h).each(function(t,e){var a=n(e),o=a.data("remodal-options");o?("string"==typeof o||o instanceof String)&&(o=l(o)):o={},a[g](o)}),n(document).on("keydown."+h,function(t){u&&u.settings.closeOnEscape&&u.state===O.OPENED&&27===t.keyCode&&u.close()}),n(window).on("hashchange."+h,m)})});